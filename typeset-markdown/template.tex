% Note: spaces after commas are necessary here
\documentclass[
  $if(title)$
  doctitle = {{$title$}} ,
  $endif$
  $if(author)$
  docauthor = {{$author$}} ,
  $endif$
  $if(emailname)$
  emailname = {{$emailname$}} ,
  $endif$
  $if(emaildomain)$
  emaildomain = {{$emaildomain$}}
  $endif$
]{jstrieb-doc}

$if(date)$
\renewcommand{\today}{$date$}
$endif$

% Reduce subsection spacing
\titleformat{\subsection}{\normalsize\sc\lowercase}{}{0em}{}
\titlespacing{\subsection}{0em}{0em}{0em}

% Add new pages before sections and/or subsections
$if(section-break)$
\renewcommand{\section}{\Section}
$endif$
$if(subsection-break)$
\renewcommand{\subsection}{\Subsection}
$endif$


% Listings for code
% Copied from pandoc template via `pandoc.exe -D latex`
\usepackage{listings}
\newcommand{\passthrough}[1]{#1}
% Auto-generated by PANDOC
$if(highlighting-macros)$
$highlighting-macros$
$endif$

\begin{document}

% Auto-generated by PANDOC
$body$

\end{document}
